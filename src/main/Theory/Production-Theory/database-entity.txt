while overriding the equals & hashcode in entity classes , use the immutable fields which are not going to change forever , so it can be id , but if the id is gonna be autogenerated by db , then it means that before persistance it was null , then it changed to some string or uuid , so it is not actually immutable

here in this project we get the id of user from jwt(keycloak) so we there is no GeneratedValue for id in user entity , so we used id for overriding the equals and hash

if the id is generated by db then handle it by using the

@Override
public boolean equals(Object o) {
    if (this == o) return true;
    if (!(o instanceof User)) return false;

    User other = (User) o;

    // Only compare if both are persisted
    if (id == null || other.id == null) {
        return false;
    }

    return id.equals(other.id);
}


@Override
public int hashCode() {
    // Stable hash code after persistence
    return (id != null) ? id.hashCode() : System.identityHashCode(this);
}


@Override
                   public int hashCode() {
                       // Stable hash code after persistence
                       return (id != null) ? id.hashCode() : System.identityHashCode(this);
                   }
                   in hash
